{"version": 3,"file": "",
"sourceroot": "",
"sources": ["groups/index/index.js","groups/category/index.js","groups/mygroups/index.js","groups/goods/index.js","groups/order/index.js","groups/confirm/index.js","groups/rules/index.js","groups/groups_detail/index.js","groups/join/index.js","groups/jointeam/index.js","groups/order_detail/index.js","groups/pay/index.js","groups/refund/index.js","groups/express/index.js","groups/express/number.js"],
"names": ["app","getApp","core","requirejs","Page","onPullDownRefresh","$this","this","get","result","error","setData","res","wx","stopPullDownRefresh","data","onLoad","options","getCache","isIpx","iphonexnavbar","advheight","e","advratio","detail","width","height","navigate","link","pdata","navigateTo","url","fail","switchTab","onReady","onShow","onHide","onUnload","onReachBottom","onShareAppMessage","page","list","defaults","keywords","isrecommand","ishot","isnew","isdiscount","issendfree","istime","cate","order","by","merchid","id","getList","post","category","length","empty","concat","pagesize","loaded","total","bindSearch","value","keyword","back","navigateBack","delta","showtab","success","get_list","tab","target","dataset","selected","currentTarget","type","parser","times","goods_id","advHeight","imageLoad","h","w","Math","floor","wxParse","content","singlebuy","msg","more_spec","layershow","optionarr","selectSpecsarr","spec","alert","message","close","specsTap","specs","spec_id","spedid","specindex","idx","item","forEach","index","status","push","indexOf","splice","groups_goods_id","optiondata","buy","op","stock","chosenum","showToast","title","icon","duration","check","type_","cancel","cancelArray","finish","order_id","orderid","confirm","delete_","code","verifycode","json","qrcode","$","diyform","api","real_name","mobile","deduct","group_option_id","option_id","ladder_id","heads","teamid","sysset","address","aid","fields","f_data","onChange","DiyFormHandler","selectArea","bindChange","onCancel","onConfirm","val","pval","areas","areaDetail","province","name","city","datavalue","area","getStreet","street","areaDetail.detail","streetIndex","showPicker","getIndex","str","clearform","new_fdata","each","k","v","key","data_type","diy_type","count","images","submit","diyformdata","undefined","diydata","verify","realname","data.address","toggle","d","dataChange","realprice","parseFloat","price","credit","deductprice","toFixed","rules","count_down","time","share","show","get_details","goods","replace","tuan_first_order","lasttime2","clearInterval","timer","setInterval","countDown","createtime","endtime","timestart","timeend","now","parseInt","Date","leftsecond","day","hour","minute","second","tuxedobuy","checkAuth","redirectTo","shopshare","path","imageUrl","imgUrl","goodsTab","tap","teams","ladder","joinTeam","getSetting","authSetting","types","order_num","selectindex","goodsid","ladder_price","ladder_buy","ladder_num","buyop","other","i","s","residualtime","m","hours","minite","join","do_","consume","store","cancelindex","diyshow","city_express_state","paddingb","toast","express","verifynum","verifytotal","carrier","shop_name","shopname","goodRefund","more","all","phone","reLaunch","refundcancel","foxui","icons","successData","coupon","wechat","money","payinfo","pay","errMsg","complete","pay_json","setNavigationBarTitle","pay_type","pay_fee","fee","orderno","pay_msg","shop","closecoupon","tempFilePaths","delete","rtypeArr","rtypeArrText","rtypeIndex","reasonArr","reasonIndex","imgs","rtype","reason","change","upload","file","filename","previewImage","current","urls","edit","order.refundstate","confirmRecive","refundid","refund","expresscom","expresssn","inputPrickChange","express_list","inputChange"],
"mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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",
"sourcesContent": ["// pages/groups/imdex/index.js\r\nvar app = getApp(), core = app.requirejs('core'), $ = app.requirejs('jquery'), foxui = app.requirejs('foxui');\r\nPage({\r\n  onPullDownRefresh: function(){\r\n    var $this = this\r\n\r\n    core.get('groups', {}, function (result) {\r\n      if (result.error == 0) {\r\n        $this.setData({\r\n          res: result\r\n        })\r\n        wx.stopPullDownRefresh()\r\n      } \r\n    })\r\n  },\r\n  data: {\r\n  \r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    var $this = this;\r\n    var isIpx = app.getCache('isIpx');\r\n    if (isIpx) {\r\n      $this.setData({\r\n        isIpx: true,\r\n        iphonexnavbar: 'fui-iphonex-navbar'\r\n      })\r\n    } else {\r\n      $this.setData({\r\n        isIpx: false,\r\n        iphonexnavbar: ''\r\n      })\r\n    }\r\n    core.get('groups', {}, function (result) {\r\n      $this.setData({\r\n        res:result\r\n      })\r\n    })\r\n  },\r\n  advheight:function(e){\r\n    var $this = this;\r\n    var advratio = e.detail.width / e.detail.height;\r\n    $this.setData({\r\n      advheight:750 / advratio\r\n    })\r\n  },\r\n  navigate:function(e){\r\n    var link = core.pdata(e).link\r\n   \r\n    wx.navigateTo({\r\n      url: link,\r\n      fail:function(){\r\n        wx.switchTab({\r\n          url: link,\r\n        })\r\n      }\r\n    })\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () { \r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n  \r\n  },\r\n  onReachBottom: function () {\r\n    this.onPullDownRefresh()\r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n  \r\n  }\r\n})","// pages/groups/category/index.js\r\nvar app = getApp();\r\nvar core = app.requirejs('core');\r\nvar $ = app.requirejs('jquery');\r\nvar diyform = app.requirejs('biz/diyform');\r\nvar goodspicker = app.requirejs('biz/goodspicker');\r\nvar foxui = app.requirejs('foxui');\r\nPage({\r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    page:1,\r\n    list: [],\r\n    defaults: {\r\n      keywords: '',\r\n      isrecommand: '',\r\n      ishot: '',\r\n      isnew: '',\r\n      isdiscount: '',\r\n      issendfree: '',\r\n      istime: '',\r\n      cate: '',\r\n      order: '',\r\n      by: 'desc',\r\n      merchid: 0,\r\n    }\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    var $this = this;\r\n    var isIpx = app.getCache('isIpx');\r\n    if (isIpx) {\r\n      $this.setData({\r\n        isIpx: true,\r\n        iphonexnavbar: 'fui-iphonex-navbar',\r\n        options: options\r\n      })\r\n    } else {\r\n      $this.setData({\r\n        isIpx: false,\r\n        iphonexnavbar: '',\r\n        options: options\r\n      })\r\n    }\r\n    var id = $this.data.options.id || '';\r\n    $this.getList();\r\n  },\r\n  getList:function(){\r\n    var $this = this;\r\n    core.post('groups.list', { category: $this.data.options.id, page: $this.data.page }, function (result) {\r\n      if (result.error == 0) {\r\n        if (result.list.length <= 0) {\r\n          $this.setData({\r\n            res: result,\r\n            empty: true\r\n          })\r\n        } else {\r\n          $this.setData({\r\n            page: $this.data.page + 1,\r\n            res: result,\r\n            list: $this.data.list.concat(result.list),\r\n            empty: false\r\n          })\r\n        }\r\n        \r\n        if (result.list.length < result.pagesize) {\r\n          $this.setData({\r\n            loaded: true\r\n          });\r\n        }\r\n      } else {\r\n        \r\n      }\r\n\r\n    })\r\n  },\r\n  onReachBottom: function () {\r\n    \r\n    if (this.data.loaded || this.data.res.list.length == this.data.total) {\r\n      return;\r\n    }\r\n    this.getList();\r\n  },\r\n  bindSearch: function (e) {\r\n    \r\n    var $this = this;\r\n    var keywords = e.detail.value;\r\n    core.get('groups.list', { keyword: keywords }, function (res) {\r\n     \r\n      if (res.list.length <= 0) {\r\n        $this.setData({ empty: true });\r\n      } else {\r\n        $this.setData({ empty: false });\r\n      }\r\n      $this.setData({ list: res.list});\r\n    });\r\n  },\r\n  back:function(){\r\n    wx.navigateBack({\r\n      delta:1\r\n    })\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n  \r\n  }\r\n})","// pages/groups/category/index.js\r\nvar app = getApp(), core = app.requirejs('core'), $ = app.requirejs('jquery'), foxui = app.requirejs('foxui');\r\nPage({\r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    showtab:'do',\r\n    success: '',\r\n    page: 1,\r\n    list: [],\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n\tvar $this = this;\r\n    var isIpx = app.getCache('isIpx');\r\n    if (isIpx) {\r\n      $this.setData({\r\n        isIpx: true,\r\n        iphonexnavbar: 'fui-iphonex-navbar'\r\n      })\r\n    } else {\r\n      $this.setData({\r\n        isIpx: false,\r\n        iphonexnavbar: ''\r\n      })\r\n    }\r\n    this.get_list();\r\n  },\r\n\r\n  get_list: function (e) {\r\n    var $this = this;\r\n\r\n    core.get('groups/team', { success: $this.data.success, page: $this.data.page }, function (result) {\r\n     \r\n      if (result.error == 0) {\r\n        $this.setData({\r\n          list: $this.data.list.concat(result.list)\r\n        })\r\n        wx.stopPullDownRefresh();\r\n      }\r\n    })\r\n  },\r\n\r\n  tab:function( e ){\r\n    if (this.data.success == e.target.dataset.success ){\r\n      return ;\r\n    }\r\n    this.setData({ success: e.target.dataset.success,page:1,list:[]});\r\n    this.get_list(  );\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n\r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n    this.setData({page:1,list:[]});\r\n    this.get_list();\r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n    this.setData({ page: this.data.page+1 });\r\n    this.get_list();\r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n\r\n  },\r\n  selected: function (e) {\r\n    this.setData({\r\n      showtab: e.currentTarget.dataset.type\r\n    })\r\n  },\r\n})","// pages/groups/goods/index.js\r\n\r\nvar app = getApp(), core = app.requirejs('core'), $ = app.requirejs('jquery'), foxui = app.requirejs('foxui');\r\nvar parser = app.requirejs('wxParse/wxParse');\r\nvar times= 0\r\nPage({\r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n      goods_id:0,\r\n      advHeight: 1\r\n  },\r\n  //商品详情轮播图按照第一张图片显示\r\n  imageLoad: function (e) {\r\n    let h = e.detail.height,\r\n      w = e.detail.width,\r\n      height = Math.floor((750 * h) / w);\r\n    \r\n    if (h == w) {\r\n      this.setData({ advHeight: 750 })\r\n    } else {\r\n      this.setData({ advHeight: height })\r\n    }\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    var $this = this;\r\n   \r\n    var isIpx = app.getCache('isIpx');\r\n    if (isIpx) {\r\n      $this.setData({\r\n        isIpx: true,\r\n        iphonexnavbar: 'fui-iphonex-navbar'\r\n      })\r\n    } else {\r\n      $this.setData({\r\n        isIpx: false,\r\n        iphonexnavbar: ''\r\n      })\r\n    }\r\n    var id = options.id\r\n    this.setData({ goods_id:id});\r\n    core.post('groups.goods', {id:id}, function (result) {\r\n      $this.setData({\r\n        data: result.data,\r\n        \r\n        // content: result.data.content.replace(/\\<img/gi, '<img style=\"max-width:100%;height:auto;\" ')\r\n      })\r\n      parser.wxParse('wxParseData', 'html', result.data.content, $this, '0')\r\n    })\r\n  },\r\n  singlebuy:function(e){\r\n    var $this = this;\r\n    // 判断是否可以单购\r\n    core.post('groups/goods/goodsCheck', { id:$this.data.goods_id, type: 'single' }, function (msg) {\r\n      if (msg.error == 1){\r\n        core.alert(msg.message);\r\n        return;\r\n      }else{\r\n          // 单规格\r\n          if ($this.data.data.more_spec == 0) {\r\n            wx.navigateTo({\r\n              url: '../confirm/index?id=' + $this.data.goods_id + '&type=single',\r\n            })\r\n          } else {\r\n            // 多规格\r\n            $this.setData({\r\n              layershow: true,\r\n              options: true\r\n            })\r\n            $this.setData({\r\n              optionarr: [],\r\n              selectSpecsarr: []\r\n            })\r\n            var id = $this.data.data.id\r\n            core.get('groups.goods.get_spec', { id: id }, function (result) {\r\n              \r\n              $this.setData({\r\n                spec: result.data\r\n              })\r\n            })\r\n\r\n            $this.setData({\r\n              layershow: true,\r\n              options: true\r\n            })\r\n          }\r\n      }\r\n    })\r\n  },\r\n  close: function () {\r\n    var $this = this;\r\n    $this.setData({\r\n      layershow: false,\r\n      options: false\r\n    })\r\n  },\r\n  specsTap: function (e) {\r\n    times++\r\n    var $this = this\r\n    var specs = $this.data.spec;\r\n    var spec_id = core.pdata(e).spedid, id = core.pdata(e).id, specindex = core.pdata(e).specindex, idx = core.pdata(e).idx;\r\n    // 改颜色\r\n    specs[specindex].item.forEach(function (e, index) {\r\n      if (e.id == id) {\r\n        specs[specindex].item[index].status = 'active';\r\n      } else {\r\n        specs[specindex].item[index].status = '';\r\n      }\r\n    });\r\n    $this.setData({\r\n      spec: specs\r\n    })\r\n    // 存id\r\n    var optionarr = $this.data.optionarr\r\n    // 规格下标数组\r\n    var selectSpecsarr = $this.data.selectSpecsarr;\r\n    if (times == 1) {\r\n      optionarr.push(id);\r\n      selectSpecsarr.push(spec_id);\r\n    } else {\r\n      if (selectSpecsarr.indexOf(spec_id) > -1) {\r\n        optionarr.splice(specindex, 1, id);\r\n      } else {\r\n        // 不同规格添加\r\n        optionarr.push(id);\r\n        selectSpecsarr.push(spec_id);\r\n      }\r\n    }\r\n    $this.data.optionarr = optionarr;\r\n    $this.data.selectSpecsarr = selectSpecsarr\r\n  \r\n    core.post('groups.goods.get_option', { spec_id: $this.data.optionarr, groups_goods_id: $this.data.goods_id }, function (result) {\r\n      $this.setData({\r\n        optiondata: result.data,\r\n      })\r\n    })\r\n  },\r\n  buy: function (e) {\r\n    var $this = this\r\n    var buyop = core.pdata(e).op, goods_id = $this.data.goods_id, optiondata = $this.data.optiondata\r\n    if ($this.data.optiondata) {\r\n        if (optiondata.stock > 0) {\r\n          wx.navigateTo({\r\n            url: \"../confirm/index?id=\" + goods_id + \"&option_id=\" + optiondata.id +' &type=single',\r\n            success: function () {\r\n              $this.setData({\r\n                layershow: false,\r\n                chosenum: false,\r\n                options: false\r\n              })\r\n            }\r\n          })\r\n\r\n        } else {\r\n          wx.showToast({\r\n            title: '库存不足',\r\n            icon: 'none',\r\n            duration: 2000\r\n          });\r\n        }\r\n    } else {\r\n      wx.showToast({\r\n        title: '请选择规格',\r\n        icon: 'none',\r\n        duration: 2000\r\n      });\r\n    }\r\n\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n    var $this = this;\r\n    var $data = $this.data.data;\r\n  \r\n    return {\r\n      title:$data.title\r\n    }\r\n  },\r\n\r\n  check:function(){\r\n    \r\n  }\r\n})","// pages/groups/order/imdex.js\r\nvar app = getApp();\r\nvar core = app.requirejs('core');\r\nvar $ = app.requirejs('jquery');\r\nvar diyform = app.requirejs('biz/diyform');\r\nvar goodspicker = app.requirejs('biz/goodspicker');\r\nvar foxui = app.requirejs('foxui');\r\nvar order = app.requirejs('biz/group_order');\r\nPage({\r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n      type_:'',\r\n      page:1,\r\n      list:[],\r\n      cancel: order.cancelArray,\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n\tvar $this = this;\r\n    var isIpx = app.getCache('isIpx');\r\n    if (isIpx) {\r\n      $this.setData({\r\n        isIpx: true,\r\n        iphonexnavbar: 'fui-iphonex-navbar'\r\n      })\r\n    } else {\r\n      $this.setData({\r\n        isIpx: false,\r\n        iphonexnavbar: ''\r\n      })\r\n    }\r\n    this.setData({\r\n      options: options\r\n    });\r\n\r\n    this.get_list();\r\n  },\r\n\r\n  get_list:function(e){\r\n    var $this = this;\r\n    if (e){\r\n      if (e.target ){\r\n        if ($this.data.type_ == e.target.dataset.type_) {\r\n          return;\r\n        }\r\n        $this.setData({ type_: e.target.dataset.type_ });\r\n      }\r\n      \r\n      $this.setData({ page: 1 ,list:[]});  \r\n    }\r\n    \r\n    core.get('groups/order', {status:$this.data.type_,page:$this.data.page}, function (result) {\r\n    \r\n      if( result.error == 0 ){\r\n        $this.setData({\r\n          list: $this.data.list.concat(result.list)\r\n        })\r\n        wx.stopPullDownRefresh();\r\n      }\r\n    })\r\n  },\r\n\r\n  finish:function(e){\r\n    var $this = this;\r\n    var order_id = e.target.dataset.orderid;\r\n    core.confirm('是否确认收货',function(){\r\n      core.get('groups/order/finish', { id: order_id}, function (result) {\r\n        if (result.error == 0) {\r\n          $this.get_list(true);\r\n        } else {\r\n          core.alert(result.result.message);\r\n        }\r\n      })\r\n    });\r\n  },\r\n\r\n  delete_:function(e){\r\n    var $this = this;\r\n    var order_id = e.target.dataset.orderid;\r\n    core.confirm('是否确认删除', function () {\r\n      core.get('groups/order/delete', { id: order_id }, function (result) {\r\n        if (result.error == 0) {\r\n          $this.get_list(true);\r\n        } else {\r\n          core.alert(result.result.message);\r\n        }\r\n      })\r\n    });\r\n  },\r\n\r\n  // cancel:function(e){\r\n  //   var $this = this;\r\n  //   var order_id = e.target.dataset.orderid;\r\n  //   core.confirm('是否确认取消', function () {\r\n  //     core.get('groups/order/cancel', { id: order_id }, function (result) {\r\n  //       if (result.error == 0) {\r\n  //         $this.get_list(true);\r\n  //       }else{\r\n  //         core.alert(result.result.message);\r\n  //       }\r\n  //     })\r\n  //   });\r\n  // },\r\n  cancel: function (e) {\r\n    var order_id = e.target.dataset.orderid;\r\n    order.cancel(order_id, e.detail.value, '../order_detail/index?order_id=' + order_id);\r\n  },\r\n  close: function () {\r\n    this.setData({\r\n      code: false,\r\n    })\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n    this.setData({ page: 1,list:[] });\r\n    this.get_list();\r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function ()\r\n  {\r\n    this.setData({ page: this.data.page + 1 });\r\n    this.get_list();\r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n  \r\n  },\r\n  code: function (e) {\r\n    var $this = this, orderid = core.data(e).orderid, verifycode = core.data(e).verifycode;\r\n    core.post('groups/verify/qrcode', { id: orderid, verifycode:verifycode }, function (json) {\r\n      if (json.error == 0) {\r\n        $this.setData({\r\n          code: true,\r\n          qrcode: json.url\r\n        })\r\n      } else {\r\n        core.alert(json.message);\r\n      }\r\n    }, true);\r\n  },\r\n})","// pages/groups/confirm/index.js\r\nvar app = getApp(), core = app.requirejs('core'), $ = app.requirejs('jquery');\r\nvar foxui = app.requirejs('foxui');\r\nvar diyform = app.requirejs('biz/diyform');\r\nPage({\r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    options:[],\r\n    data:{},\r\n    api:0,\r\n    message:'',\r\n    real_name:'',\r\n    mobile:'',\r\n    deduct:false\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    var $this = this;\r\n    this.setData({ options: options});\r\n   \r\n    var isIpx = app.getCache('isIpx');\r\n    if (isIpx) {\r\n      $this.setData({\r\n        isIpx: true,\r\n        iphonexnavbar: 'fui-iphonex-navbar'\r\n      })\r\n    } else {\r\n      $this.setData({\r\n        isIpx: false,\r\n        iphonexnavbar: ''\r\n      })\r\n    }\r\n\r\n    core.get('groups/order/create_order', { \r\n      id: $this.data.options.id,\r\n      group_option_id: $this.data.options.option_id,\r\n      ladder_id: $this.data.options.ladder_id,\r\n      type: $this.data.options.type,\r\n      heads: $this.data.options.heads,\r\n      teamid: $this.data.options.teamid,\r\n      },function(msg){\r\n        if( msg.error == 1 ){\r\n          core.alert( msg.message );\r\n          core.confirm(msg.message, function () { wx.navigateBack() }, function () { wx.navigateBack()} );\r\n          return;\r\n        }\r\n      \r\n        $this.setData({data:msg.data,sysset:msg.sysset});\r\n        if (msg.data.address ){\r\n          $this.setData({ aid: msg.data.address.id });\r\n        }\r\n        if(msg.data.fields.length>0){\r\n          $this.setData({\r\n            diyform: {\r\n              f_data: msg.data.f_data,\r\n              fields: msg.data.fields\r\n            }})\r\n        }\r\n      });\r\n\r\n  },\r\n  onChange: function (e) {\r\n    return diyform.onChange(this, e)\r\n  },\r\n  DiyFormHandler: function (e) {\r\n    return diyform.DiyFormHandler(this, e)\r\n  },\r\n  selectArea: function (e) {\r\n    return diyform.selectArea(this, e)\r\n  },\r\n  bindChange: function (e) {\r\n    return diyform.bindChange(this, e)\r\n  },\r\n  onCancel: function (e) {\r\n    return diyform.onCancel(this, e)\r\n  },\r\n  onConfirm: function (e) {\r\n    diyform.onConfirm(this, e)\r\n\r\n    var val = this.data.pval;\r\n    var areas = this.data.areas;\r\n    var detail = this.data.areaDetail.detail;\r\n    detail.province = areas[val[0]].name;\r\n    detail.city = areas[val[0]].city[val[1]].name;\r\n    detail.datavalue = areas[val[0]].code + \" \" + areas[val[0]].city[val[1]].code;\r\n    if (areas[val[0]].city[val[1]].area && areas[val[0]].city[val[1]].area.length > 0) {\r\n\r\n      detail.area = areas[val[0]].city[val[1]].area[val[2]].name;\r\n      detail.datavalue += \" \" + areas[val[0]].city[val[1]].area[val[2]].code;\r\n      this.getStreet(areas, val);\r\n    } else {\r\n      detail.area = \"\";\r\n    }\r\n\r\n    detail.street = '';\r\n    this.setData({ 'areaDetail.detail': detail, streetIndex: 0, showPicker: false });\r\n\r\n    return\r\n  },\r\n  getIndex: function (str, areas) {\r\n    return diyform.getIndex(str, areas)\r\n  }, \r\n\r\n  // 清除表单内容\r\n  clearform: function () {\r\n    var diyform = this.data.diyform;\r\n    var new_fdata = {};\r\n    $.each(diyform, function (k, v) {  //lgt 清除表单时保留图片上传功能\r\n      $.each(v, function (key, value) {\r\n        if (value.data_type == 5) {\r\n          diyform.f_data[value.diy_type].count = 0;\r\n          diyform.f_data[value.diy_type].images = [];\r\n          new_fdata[value.diy_type] = diyform.f_data[value.diy_type];\r\n        }\r\n      });\r\n    });\r\n    diyform.f_data = new_fdata;\r\n    this.setData({\r\n      diyform: diyform\r\n    })\r\n  },\r\n  //提交\r\n  submit:function(){\r\n    var $this = this;\r\n    var diyformdata = this.data.diyform;\r\n    if ($this.data.diyform == undefined){\r\n      var diydata ='';\r\n    }else{\r\n      var diydata = $this.data.diyform.f_data;\r\n    }\r\n    \r\n    if (diyformdata!=undefined){\r\n      var verify = diyform.verify(this, diyformdata);\r\n      if (!verify) {\r\n        core.alert('请查看是否有未填写的内容');\r\n        return;\r\n      }\r\n    }\r\n\r\n    core.post('groups/order/create_order', {\r\n      id: $this.data.options.id,\r\n      group_option_id: $this.data.options.option_id,\r\n      ladder_id: $this.data.options.ladder_id,\r\n      type: $this.data.options.type,\r\n      heads: $this.data.options.heads,\r\n      teamid: $this.data.options.teamid,\r\n      aid:$this.data.aid,\r\n      message:$this.data.message,\r\n      realname:$this.data.real_name,\r\n      mobile: $this.data.mobile,\r\n      deduct: $this.data.deduct,\r\n      diydata: diydata\r\n      } , function(msg){\r\n        if(msg.error == 1){\r\n          core.alert( msg.message );\r\n          return;\r\n        }\r\n        wx.navigateTo({url: '../pay/index?id=' + msg.orderid +'&teamid='+msg.teamid,});\r\n    });\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n    var $this = this, address = app.getCache(\"orderAddress\"), shop = app.getCache(\"orderShop\");\r\n    if (address) {\r\n      this.setData({\r\n        'data.address': address,\r\n        aid: address.id\r\n      });\r\n    }\r\n\r\n  },\r\n  toggle:function(e){\r\n    var data = core.pdata(e), id = data.id, type = data.type, d = {};\r\n    (id == 0 || typeof id == 'undefined') ? d[type] = 1 : d[type] = 0;\r\n    this.setData(d);\r\n    \r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n  \r\n  },\r\n  message:function(e){\r\n    this.setData({message:e.detail.value});\r\n  },\r\n  realname:function(e){\r\n    this.setData({ real_name: e.detail.value });\r\n  },\r\n  mobile:function(e){\r\n    this.setData({ mobile: e.detail.value });\r\n  },\r\n  dataChange: function (e) {\r\n    var data = this.data.data, id = e.target.id;\r\n    data.deduct = e.detail.value;\r\n    \r\n    var realprice = parseFloat(data.price);\r\n    realprice += data.deduct ? - parseFloat(data.credit.deductprice) : parseFloat(data.credit.deductprice);\r\n    data.price = realprice;\r\n    data.price = $.toFixed(data.price, 2);\r\n    this.setData({\r\n      data: data,\r\n      deduct: e.detail.value\r\n    })\r\n  }\r\n})","// pages/groups/rules/index.js\r\nvar app = getApp(), core = app.requirejs('core'), $ = app.requirejs('jquery'), foxui = app.requirejs('foxui');\r\nPage({\r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    var $this = this;\r\n    core.post('groups.goods.play',{}, function (result) {\r\n      \r\n      $this.setData({\r\n        rules: result.rules\r\n      })\r\n    })\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n  \r\n  }\r\n})","// pages/groups/groups_detail/index.js\r\nvar app = getApp(), core = app.requirejs('core'), $ = app.requirejs('jquery'), foxui = app.requirejs('foxui');\r\nvar times = 0\r\nvar parser = app.requirejs('wxParse/wxParse');\r\nPage({\r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    showtab:'groups',\r\n    count_down:true,\r\n    time:'',\r\n    share:1,\r\n    options:'',\r\n    show:false\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    var $this = this;\r\n    var isIpx = app.getCache('isIpx');\r\n    if (isIpx) {\r\n      $this.setData({\r\n        isIpx: true,\r\n        iphonexnavbar: 'fui-iphonex-navbar'\r\n      })\r\n    } else {\r\n      $this.setData({\r\n        isIpx: false,\r\n        iphonexnavbar:''\r\n      })\r\n    }\r\n\r\n    this.setData({ teamid: options.teamid});\r\n    this.get_details(options.teamid );\r\n  },\r\n\r\n  get_details:function(teamid){\r\n    var $this = this;\r\n    core.get('groups/team/details', { teamid: teamid }, function (result) {\r\n      if (result.error == 0) {\r\n        result.data.goods.content = result.data.goods.content.replace(/data-lazy/g, \"src\")\r\n\r\n        $this.setData({\r\n          data: result.data,\r\n        })\r\n        parser.wxParse('wxParseData', 'html', result.data.goods.content, $this, '0')\r\n      }\r\n      if (result.data.tuan_first_order.success == 0) {\r\n        if (result.data.lasttime2 <= 0) {\r\n          $this.setData({ count_down: false });\r\n          return;\r\n        }\r\n        clearInterval($this.data.timer);\r\n        if (result.data.tuan_first_order.success == 0 ){\r\n          var timer = setInterval(function () {\r\n            $this.countDown(result.data.tuan_first_order.createtime, result.data.tuan_first_order.endtime);\r\n          }, 1000);\r\n        }\r\n        $this.setData({ timer: timer });\r\n      }\r\n\r\n      \r\n    })\r\n  },\r\n\r\n  /*倒计时js start\r\n  timestart----开始时间\r\n  timeend----结束时间\r\n  type-------类型\r\n  */\r\n  countDown: function (timestart, timeend, type) {\r\n    var now = parseInt(Date.now() / 1000);\r\n    var endDate = timestart > now ? timestart : timeend;\r\n    var leftTime = endDate - now;\r\n    var leftsecond = parseInt(leftTime);\r\n    var day = Math.floor(leftsecond / (60 * 60 * 24));\r\n    var hour = Math.floor((leftsecond - day * 24 * 60 * 60) / 3600);\r\n    var minute = Math.floor((leftsecond - day * 24 * 60 * 60 - hour * 3600) / 60);\r\n    var second = Math.floor(leftsecond - day * 24 * 60 * 60 - hour * 3600 - minute * 60);\r\n    if (day == 0 && hour == 0 && minute == 0 && second == 0 ){\r\n      this.get_details(this.data.teamid );\r\n    }\r\n    var time = [day, hour, minute, second]\r\n    this.setData({\r\n      time: time\r\n    });\r\n  },\r\n  tuxedobuy: function (e) {\r\n    app.checkAuth();\r\n    var $this = this;\r\n      \r\n    var id = $this.data.data.goods.id\r\n\r\n\r\n    if( $this.data.data.goods.more_spec == 0 ){\r\n      if ($this.data.data.goods.stock > 0) {\r\n        core.get('groups/order/create_order', {\r\n          id: id,\r\n          ladder_id: $this.data.data.tuan_first_order.ladder_id,\r\n          type: 'groups',\r\n          heads: 0,\r\n          teamid: $this.data.teamid,\r\n        }, function (msg) {\r\n          if (msg.error == 1) {\r\n            core.alert(msg.message);\r\n            return;\r\n          }\r\n          // 用户不存在则跳转\r\n          if (msg.error == -1) {\r\n            wx.redirectTo({url: '/pages/message/auth/index'});\r\n            return;\r\n          }\r\n          wx.navigateTo({\r\n            url: \"../confirm/index?id=\" + id + \"&heads=0&type=groups&teamid=\"+$this.data.teamid+\"&ladder_id=\"+$this.data.data.tuan_first_order.ladder_id,\r\n            success: function () {\r\n              $this.setData({\r\n                layershow: false,\r\n                chosenum: false,\r\n                options: false\r\n              })\r\n            }\r\n          })\r\n            \r\n        });\r\n        \r\n\r\n      } else {\r\n        wx.showToast({\r\n          title: '库存不足',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    \r\n  \r\n    }else{\r\n  \r\n      core.get('groups.goods.get_spec', { id: id }, function (result) {\r\n        $this.setData({\r\n          spec: result.data\r\n        })\r\n      })\r\n  \r\n      $this.setData({\r\n        layershow: true,\r\n        options: true\r\n      })\r\n      $this.setData({\r\n        optionarr: [],\r\n        selectSpecsarr: []\r\n      })\r\n      if ($this.data.data.goods.stock > 0) {\r\n        wx.navigateTo({\r\n          url: \"../confirm/index?id=\" + goods_id + \"&type=groups&teamid=\"+$this.data.teamid,\r\n          success: function () {\r\n            $this.setData({\r\n              layershow: false,\r\n              chosenum: false,\r\n              options: false\r\n            })\r\n          }\r\n        })\r\n\r\n      } else {\r\n        wx.showToast({\r\n          title: '库存不足',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n\r\n      $this.setData({\r\n        layershow: true,\r\n        options: true\r\n      })\r\n    }\r\n      \r\n\r\n  },\r\n  close: function () {\r\n    var $this = this;\r\n    $this.setData({\r\n      layershow: false,\r\n      options: false\r\n    })\r\n  },\r\n  specsTap: function (e) {\r\n    times++\r\n    var $this = this\r\n    var specs = $this.data.spec;\r\n    var spec_id = core.pdata(e).spedid, id = core.pdata(e).id, specindex = core.pdata(e).specindex, idx = core.pdata(e).idx;\r\n    // 改颜色\r\n    specs[specindex].item.forEach(function (e, index) {\r\n      if (e.id == id) {\r\n        specs[specindex].item[index].status = 'active';\r\n      } else {\r\n        specs[specindex].item[index].status = '';\r\n      }\r\n    });\r\n    $this.setData({\r\n      spec: specs\r\n    })\r\n    // 存id\r\n    var optionarr = $this.data.optionarr\r\n    // 规格下标数组\r\n    var selectSpecsarr = $this.data.selectSpecsarr;\r\n    if (times == 1) {\r\n      optionarr.push(id);\r\n      selectSpecsarr.push(spec_id);\r\n    } else {\r\n      if (selectSpecsarr.indexOf(spec_id) > -1) {\r\n        optionarr.splice(specindex, 1, id);\r\n      } else {\r\n        // 不同规格添加\r\n        optionarr.push(id);\r\n        selectSpecsarr.push(spec_id);\r\n      }\r\n    }\r\n    $this.data.optionarr = optionarr;\r\n    $this.data.selectSpecsarr = selectSpecsarr\r\n  \r\n    core.post('groups.goods.get_option', { spec_id: $this.data.optionarr, groups_goods_id: $this.data.data.goods.id }, function (result) {\r\n      $this.setData({\r\n        optiondata: result.data,\r\n      })\r\n    })\r\n  },\r\n  buy: function (e) {\r\n    var $this = this\r\n    var buyop = core.pdata(e).op, goods_id = $this.data.data.goods.id, optiondata = $this.data.optiondata\r\n    if ($this.data.optiondata) {\r\n      if (optiondata.stock > 0) {\r\n        wx.navigateTo({\r\n          url: \"../confirm/index?id=\" + goods_id + \"&type=groups&option_id=\" + optiondata.id + ' &teamid='+$this.data.teamid,\r\n          success: function () {\r\n            $this.setData({\r\n              layershow: false,\r\n              chosenum: false,\r\n              options: false\r\n            })\r\n          }\r\n        })\r\n\r\n      } else {\r\n        wx.showToast({\r\n          title: '库存不足',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    } else {\r\n      wx.showToast({\r\n        title: '请选择规格',\r\n        icon: 'none',\r\n        duration: 2000\r\n      });\r\n    }\r\n\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function (res) {\r\n    var $this = this;\r\n    return {\r\n      title:$this.data.data.shopshare.title,\r\n      path: '/groups/groups_detail/index?teamid=' + $this.data.data.tuan_first_order.teamid,\r\n      imageUrl:$this.data.data.shopshare.imgUrl\r\n    }\r\n   \r\n  }\r\n  ,\r\n  goodsTab:function(e){\r\n    this.setData({ showtab: e.target.dataset.tap});\r\n  }\r\n})","// pages/groups/join/index.js\r\nvar app = getApp(), core = app.requirejs('core'), $ = app.requirejs('jquery'), foxui = app.requirejs('foxui');\r\nvar times = 0;\r\nPage({\r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    layershow:false,\r\n    chosenum:false,\r\n    options:false,\r\n    optionarr:[],\r\n    selectSpecsarr:[],\r\n    goods_id:0,\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    var $this = this;\r\n    var id = options.id\r\n    this.setData( {goods_id:id} );\r\n    core.get('groups.goods.openGroups', {id:id}, function (result) {\r\n      $this.setData({\r\n        data: result.data,\r\n        teams: result.teams,\r\n        ladder: result.ladder\r\n      })\r\n    })\r\n  },\r\n  joinTeam:function(e){\r\n    app.checkAuth();\r\n    var $this =this;\r\n    var $this = this;\r\n    wx.getSetting({\r\n      success: function(res) {\r\n        var limits = res.authSetting['scope.userInfo'];\r\n        if(limits){\r\n          var types = core.pdata(e).type;\r\n          var op = core.pdata(e).op;\r\n          $this.setData({\r\n            optionarr: [],\r\n            selectSpecsarr: []\r\n          })\r\n          if(op=='creat'){\r\n            $this.setData({\r\n              op: 'creat'\r\n            })\r\n          }else{\r\n            $this.setData({\r\n              op: ''\r\n            })\r\n          }\r\n\r\n          if (types == 'ladder') {\r\n            var id = $this.data.data.id\r\n            core.get('groups.goods.goodsCheck', { id: id, type: \"group\" }, function (result) {\r\n              if (result.error == 0) {\r\n                $this.setData({\r\n                  layershow: true,\r\n                  chosenum: true\r\n                })\r\n              } else {\r\n                wx.showToast({\r\n                  title: result.message,\r\n                  icon: 'none',\r\n                  duration: 2000\r\n                });\r\n              }\r\n            })\r\n\r\n          } else {\r\n            if ($this.data.data.more_spec == 0) {\r\n              var id = $this.data.data.id\r\n              core.get('groups.goods.goodsCheck', { id: id, type: \"group\" }, function (result) {\r\n                if (result.error == 0) {\r\n                  if (op == 'creat') {\r\n                    wx.navigateTo({\r\n                      url: '../confirm/index?type=groups&id=' + id + \"&heads=1\"\r\n                    })\r\n\r\n                  } else {\r\n                    core.get('groups.goods.check_tuan', { id: id, type: \"group\" }, function (result) {\r\n                      if (result.data.order_num <= 0) {\r\n                        core.alert('暂无拼团');\r\n                        return;\r\n                      }\r\n                      wx.navigateTo({\r\n                        url: '../jointeam/index?id=' + id,\r\n                      })\r\n                    });\r\n                  }\r\n                } else {\r\n                  wx.showToast({\r\n                    title: result.message,\r\n                    icon: 'none',\r\n                    duration: 2000\r\n                  });\r\n                }\r\n              })\r\n            } else {\r\n              var id = $this.data.data.id\r\n              core.get('groups.goods.goodsCheck', { id: id, type: \"group\" }, function (result) {\r\n                if (result.error == 0) {\r\n                  core.get('groups.goods.get_spec', { id: id }, function (result) {\r\n                    $this.setData({\r\n                      spec: result.data\r\n                    })\r\n                  })\r\n                  $this.setData({\r\n                    layershow: true,\r\n                    options: true\r\n                  })\r\n\r\n                } else {\r\n                  wx.showToast({\r\n                    title: result.message,\r\n                    icon: 'none',\r\n                    duration: 2000\r\n                  });\r\n                }\r\n              })\r\n            }\r\n          }\r\n        }else{\r\n          // $this.setData({modelShow: true})\r\n          return\r\n        }\r\n      }\r\n    })\r\n\r\n    \r\n  },\r\n  chosenum:function(e){\r\n    var selectindex = core.pdata(e).index;\r\n    var id = core.pdata(e).goodsid;\r\n    var ladder_id = core.pdata(e).id;\r\n    var ladder_price = core.pdata(e).price\r\n  \r\n    this.setData({\r\n      selectindex: selectindex,\r\n      id:id,\r\n      ladder_id: ladder_id,\r\n      ladder_price: ladder_price\r\n    })\r\n  },\r\n  close:function(){\r\n    var $this = this;\r\n    $this.setData({\r\n      layershow: false,\r\n      chosenum: false,\r\n      options:false\r\n    })\r\n  },\r\n  ladder_buy:function(){\r\n    var $this = this;\r\n    if (!$this.data.ladder_id ){\r\n      core.alert( '请选择拼团人数' );\r\n      return ;\r\n    } \r\n    if ( this.data.op != 'creat' ){\r\n      core.get('groups.goods.check_tuan', { id: $this.data.goods_id, ladder_id: $this.data.ladder_id }, function (result) {\r\n        if (result.data.ladder_num <= 0) {\r\n          core.alert('暂无拼团');\r\n          return;\r\n        }\r\n\r\n        wx.navigateTo({\r\n          url: \"../jointeam/index?id=\" + $this.data.goods_id + \"&ladder_id=\" + $this.data.ladder_id,\r\n          success: function () {\r\n            $this.setData({\r\n              layershow: false,\r\n              chosenum: false,\r\n              options: false\r\n            })\r\n          }\r\n        })\r\n      });\r\n    }else{\r\n      wx.navigateTo({\r\n        url: \"../confirm/index?id=\" + $this.data.goods_id + \"&heads=1&type=groups&ladder_id=\" + $this.data.ladder_id,\r\n        success: function () {\r\n          $this.setData({\r\n            layershow: false,\r\n            chosenum: false,\r\n            options: false\r\n          })\r\n        }\r\n      })\r\n    }\r\n    this.close();\r\n  },\r\n  //选规格\r\n  specsTap: function (e) {\r\n    times++\r\n    var $this = this\r\n    var specs = $this.data.spec;\r\n    var spec_id = core.pdata(e).spedid, id = core.pdata(e).id, specindex = core.pdata(e).specindex,idx = core.pdata(e).idx;\r\n    // 改颜色\r\n    specs[specindex].item.forEach(function (e,index) {\r\n      if (e.id == id){\r\n        specs[specindex].item[index].status = 'active';\r\n      }else{\r\n        specs[specindex].item[index].status = '';\r\n      }\r\n    });\r\n    $this.setData({\r\n      spec: specs\r\n    })\r\n    // 存id\r\n    var optionarr = $this.data.optionarr\r\n    // 规格下标数组\r\n    var selectSpecsarr = $this.data.selectSpecsarr;\r\n    if (times == 1) {\r\n      optionarr.push(id);\r\n      selectSpecsarr.push(spec_id);\r\n    } else {\r\n      if (selectSpecsarr.indexOf(spec_id) > -1) {\r\n        optionarr.splice(specindex, 1, id);\r\n      } else {\r\n        // 不同规格添加\r\n        optionarr.push(id);\r\n        selectSpecsarr.push(spec_id);\r\n      }\r\n    }\r\n    $this.data.optionarr = optionarr;\r\n    $this.data.selectSpecsarr = selectSpecsarr\r\n   \r\n    core.post('groups.goods.get_option', { spec_id: $this.data.optionarr, groups_goods_id: $this.data.goods_id},function(result){\r\n    \r\n      $this.setData({\r\n        optiondata: result.data,\r\n      })\r\n    })\r\n  },\r\n  buy:function(e){\r\n    var $this = this\r\n    var buyop = core.pdata(e).op, goods_id = $this.data.goods_id, optiondata = $this.data.optiondata\r\n    \r\n    if ($this.data.optiondata){\r\n    if (buyop=='creat'){\r\n      if (optiondata.stock>0){\r\n        wx.navigateTo({\r\n          url: \"../confirm/index?id=\" + goods_id + \"&heads=1&type=groups&option_id=\" + optiondata.id,\r\n          success: function () {\r\n            $this.setData({\r\n              layershow: false,\r\n              chosenum: false,\r\n              options: false\r\n            })\r\n          }\r\n        })\r\n        \r\n      }else{\r\n        wx.showToast({\r\n          title: '库存不足',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }  \r\n    }else{\r\n      if (optiondata.stock > 0){\r\n        core.get('groups.goods.check_tuan', { id: goods_id, type: \"group\" }, function (result) {\r\n          if (result.data.order_num <= 0) {\r\n            core.alert('暂无拼团');\r\n            return;\r\n          }\r\n\r\n          wx.navigateTo({\r\n            url: \"../jointeam/index?id=\" + goods_id + \"&option_id=\" + optiondata.id,\r\n            success: function () {\r\n              $this.setData({\r\n                layershow: false,\r\n                chosenum: false,\r\n                options: false\r\n              })\r\n            }\r\n          })\r\n        });\r\n        \r\n        \r\n      }else{\r\n        wx.showToast({\r\n          title: '库存不足',\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    }\r\n    }else{\r\n      wx.showToast({\r\n        title: '请选择规格',\r\n        icon: 'none',\r\n        duration: 2000\r\n      });\r\n    }\r\n\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n    //app.checkAuth();\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n  \r\n  }\r\n})","// pages/groups/jointeam/index.js\r\nvar app = getApp(), core = app.requirejs('core'), $ = app.requirejs('jquery'), foxui = app.requirejs('foxui');\r\nPage({\r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n      goods_id:0,\r\n      option_id:0,\r\n      ladder_id:0,\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {\r\n    var $this = this;\r\n    var id = options.id\r\n    var ladder_id = options.ladder_id\r\n    this.setData({ goods_id: options.id,option_id:options.option_id,ladder_id:options.ladder_id});\r\n   \r\n    core.get('groups.goods.fight_groups', { id: id,ladder_id:ladder_id }, function (result) {\r\n      if(result.error == 1 ){\r\n        core.alert( result.message );\r\n        return;\r\n      }\r\n      $this.setData({\r\n        data: result.data,\r\n        other: result.other\r\n      })\r\n      setInterval(function () {\r\n        var other = $this.data.other;\r\n        for (var i in other) {\r\n          var s = other[i].residualtime, h = 0, m = 0\r\n          if (s > 60) {\r\n            m = parseInt(s / 60)\r\n            s = parseInt(s % 60);\r\n            if (m > 60) {\r\n              h = parseInt(m / 60)\r\n              m = parseInt(m / 60)\r\n            }\r\n          }\r\n          if (s < 0) {\r\n            h=0;\r\n            m = 0;\r\n            s = 0;\r\n            $this.data.other[i].status = \"hide\";\r\n            $this.data.other=[]\r\n          }\r\n          $this.data.other[i].hours = h;\r\n          $this.data.other[i].minite = m;\r\n          $this.data.other[i].second = s;\r\n          $this.data.other[i].residualtime = $this.data.other[i].residualtime-1\r\n        }\r\n        $this.setData({\r\n          other: other\r\n        })\r\n      },1000)\r\n    })\r\n  },\r\n\r\n  join:function(){\r\n      \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n  \r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n  \r\n  },\r\n  do_:function(e){\r\n    var $this = this;\r\n    var teamid = e.target.dataset.teamid;\r\n    core.get('groups/order/create_order', {\r\n      id: $this.data.goods_id,\r\n      group_option_id: $this.data.option_id,\r\n      ladder_id: $this.data.ladder_id,\r\n      type: 'groups',\r\n      heads: 0,\r\n      teamid: teamid,\r\n    }, function (msg) {\r\n      if (msg.error == 1) {\r\n        core.alert(msg.message);\r\n        return;\r\n      }\r\n\r\n      wx.navigateTo({\r\n        url: '../confirm/index?id=' + $this.data.goods_id + '&heads=0&type=groups&option_id=' + $this.data.option_id + '&teamid=' + teamid + '&ladder_id=' + $this.data.ladder_id,\r\n      })\r\n    });\r\n    \r\n  }\r\n})","/**\r\n *\r\n * order/detail/index.js\r\n *\r\n * @create 2017-1-12\r\n * @author Young\r\n *\r\n * @update  Young 2017-01-16\r\n *\r\n */\r\nvar app = getApp(),core=app.requirejs('core'),order = app.requirejs('biz/group_order');\r\nPage({\r\n    data: {\r\n        code: false,\r\n        consume: false,\r\n        store: false,\r\n        cancel:order.cancelArray,\r\n        cancelindex:0,\r\n        diyshow:{},\r\n        city_express_state: 0,\r\n        order_id :0,\r\n        order:[],\r\n        address:[],\r\n        cancel: order.cancelArray\r\n    },\r\n    onLoad: function (options) {\r\n        // 页面初始化 options为页面跳转所带来的参数\r\n        this.setData({\r\n          order_id: options.order_id\r\n        });\r\n    },\r\n    onShow:function () {\r\n        this.get_list();\r\n        var $this = this;\r\n        var isIpx = app.getCache('isIpx');\r\n        if (isIpx) {\r\n          $this.setData({\r\n            isIpx: true,\r\n            iphonexnavbar: 'fui-iphonex-navbar',\r\n            paddingb: 'padding-b'\r\n          })\r\n        } else {\r\n          $this.setData({\r\n            isIpx: false,\r\n            iphonexnavbar: '',\r\n            paddingb: ''\r\n          })\r\n        }\r\n    },\r\n    get_list: function () {\r\n        var $this = this;\r\n        core.get('groups/order/details', {orderid:$this.data.order_id}, function (list) {\r\n          if (list.error>0){\r\n            if (list.error != 50000) {\r\n              core.toast(list.message, 'loading');\r\n            }\r\n            wx.redirectTo({\r\n              url: '../order/index'\r\n            })\r\n          }\r\n          \r\n          $this.setData({ \r\n            show: true, \r\n            express: list.express,\r\n            order: list.order, \r\n            address: list.address , \r\n            store :list.store,\r\n            verify: list.verify,\r\n            verifynum: list.verifynum,\r\n            verifytotal: list.verifytotal,\r\n            carrier: list.carrier,\r\n            shop_name: list.sysset.shopname,\r\n            goods:list.goods,\r\n            goodRefund: list.goodRefund\r\n            });\r\n        });\r\n    },\r\n    more:function(){\r\n      this.setData({all:true})\r\n    },\r\n    code: function (e) {\r\n        var $this=this;\r\n       \r\n        core.post('groups/verify/qrcode', { id: $this.data.order.id, verifycode: $this.data.order.verifycode},function (json) {\r\n            if (json.error==0){\r\n                $this.setData({\r\n                    code: true,\r\n                    qrcode: json.url\r\n                })\r\n            }else{\r\n                core.alert(json.message);\r\n            }\r\n        },true);\r\n    },\r\n    diyshow: function (e) {\r\n        var diyshow=this.data.diyshow,goodsid=core.data(e).id;\r\n        diyshow[goodsid] = !diyshow[goodsid];\r\n        this.setData({\r\n            diyshow:diyshow\r\n        });\r\n    },\r\n    close: function () {\r\n        this.setData({\r\n            code: false,\r\n        })\r\n    },\r\n    toggle: function (e) {\r\n        var data = core.pdata(e),id=data.id,type=data.type,d={};\r\n        (id == 0 || typeof id =='undefined') ? d[type] = 1 : d[type] = 0;\r\n        this.setData(d);\r\n    },\r\n    phone:function(e){\r\n        core.phone(e);\r\n    },\r\n    finish: function (e) {\r\n      var $this = this;\r\n      var order_id = e.target.dataset.orderid;\r\n      core.confirm('是否确认收货', function () {\r\n        core.get('groups/order/finish', { id: order_id }, function (result) {\r\n          if (result.error == 0) {\r\n            $this.get_list(true);\r\n          } else {\r\n            core.alert(result.message);\r\n          }\r\n        })\r\n      });\r\n    },\r\n\r\n    delete_: function (e) {\r\n      var $this = this;\r\n      var order_id = e.target.dataset.orderid;\r\n      core.confirm('是否确认删除', function () {\r\n        core.get('groups/order/delete', { id: order_id }, function (result) {\r\n          if (result.error == 0) {\r\n            wx.reLaunch({\r\n              url:'../order/index'\r\n            });\r\n          } else {\r\n            core.alert(result.message);\r\n          }\r\n        })\r\n      });\r\n    },\r\n\r\n    cancel: function (e) {\r\n      var order_id = this.data.order_id;\r\n      order.cancel(order_id, e.detail.value, '../order_detail/index?order_id=' + order_id);\r\n    },\r\n    refundcancel: function (e) {\r\n      core.post('groups.refund.cancel', { orderid: this.data.order_id }, function (res) {\r\n        if (res.error == 0) {\r\n          wx.navigateBack()\r\n        } else {\r\n          wx.showToast({\r\n            title: res.error,\r\n            icon: 'none',\r\n            duration: 2000\r\n          });\r\n        }\r\n      });\r\n    },\r\n    onShareAppMessage: function () {\r\n        return core.onShareAppMessage();\r\n    }\r\n})","/**\r\n *\r\n * order/pay/index.js\r\n *\r\n * @create 2017-1-5\r\n * @author Young\r\n *\r\n * @update  Young 2017-01-10\r\n *\r\n */\r\nvar app = getApp();\r\nvar core = app.requirejs('core');\r\nvar foxui = app.requirejs('foxui');\r\nPage({\r\n    data: {\r\n        icons:app.requirejs('icons'),\r\n        success:false,\r\n        successData:{},\r\n\r\n        coupon: false\r\n    },\r\n    onLoad: function (options) {\r\n        app.checkAuth();\r\n        var $this = this, goodslist = {};\r\n        this.setData({\r\n            options: options\r\n        });\r\n        \r\n        app.url(options);\r\n    },\r\n    onShow:function () {\r\n        this.get_list();\r\n    },\r\n    get_list:function () {\r\n        var $this=this;\r\n        this.setData({ order_id: $this.data.options.id});\r\n        core.get('groups/pay', { orderid: $this.data.options.id, teamid: $this.data.options.teamid}, function (list) {\r\n\r\n            if( list.error == 1 ){\r\n              core.alert(list.message);\r\n            }\r\n\r\n            if (list.error == 50018) {\r\n                wx.navigateTo({\r\n                    url: '/pages/order/details/index?id='+$this.data.options.id\r\n                });\r\n                return;\r\n            }\r\n\r\n            if (list.data.wechat.success ){\r\n              if (!list.data.wechat.success && list.data.money != '0.00' && list.data.wechat.payinfo) {\r\n                core.alert(list.wechat.payinfo.message + '\\n不能使用微信支付!');\r\n              }\r\n            }\r\n            \r\n            \r\n            $this.setData({\r\n                list: list.data,\r\n                show:true\r\n            });\r\n        });\r\n    },\r\n    pay: function (e) {\r\n        var type = core.pdata(e).type,$this=this,wechat = this.data.list.wechat;\r\n        if (type == 'wechat') {\r\n            core.pay(wechat.payinfo,function (res) {\r\n                if (res.errMsg == \"requestPayment:ok\"){\r\n                    $this.complete(type)\r\n                    // $this.setData({coupon: true})\r\n                }\r\n            });\r\n        } else if (type == 'credit') {\r\n            core.confirm('确认要支付吗?', function () {\r\n                $this.complete(type)\r\n                // $this.setData({ coupon: true })\r\n            }, function () {\r\n            })\r\n        } else if (type == 'cash') {\r\n            core.confirm('确认要使用货到付款吗?', function () {\r\n                $this.complete(type)\r\n                // $this.setData({ coupon: true })\r\n            }, function () {\r\n            })\r\n        } else {\r\n            $this.complete(type)\r\n            // $this.setData({ coupon: true })\r\n        }\r\n    },\r\n    complete: function (type) {\r\n        var $this = this;\r\n        core.post('groups/pay/complete', {id: $this.data.options.id, type: type}, function (pay_json) {\r\n            if (pay_json.error == 0) {\r\n                wx.setNavigationBarTitle({title: '支付成功'});\r\n                $this.setData({\r\n                    success: true,\r\n                    pay_type:pay_json.type,\r\n                    pay_fee:pay_json.fee,\r\n                    orderno:pay_json.orderno,\r\n                    pay_msg:pay_json.msg\r\n                });\r\n                if ($this.data.list.teamid==0){\r\n                  wx.reLaunch({\r\n                    url: '../order/index'\r\n                  })\r\n                }else{\r\n                  wx.reLaunch({\r\n                    url: '../groups_detail/index?teamid=' + $this.data.list.teamid,\r\n                  })\r\n                }\r\n                return\r\n            }\r\n            foxui.toast($this,pay_json.message)\r\n        }, true, true)\r\n    },\r\n    shop:function(e){\r\n        var send = core.pdata(e).id;\r\n        if(send==0){\r\n            this.setData({ shop:1 });\r\n        }else{\r\n            this.setData({ shop:0 });\r\n        }\r\n    },\r\n    phone:function(e){\r\n        core.phone(e);\r\n    },\r\n\r\n    closecoupon: function(){\r\n      this.setData({ coupon: false})\r\n    }\r\n});","// pages/groups/refund/index.js\r\nvar app = getApp(), core = app.requirejs('core'), order = app.requirejs('biz/order');\r\nPage({\r\n  data: {\r\n    code: 1,\r\n    tempFilePaths: '',\r\n    delete: '',\r\n    rtypeArr: ['退款(仅退款不退货)', '退货退款', '换货'],\r\n    rtypeArrText: ['退款', '退款', '换货'],\r\n    rtypeIndex: 0,\r\n    reasonArr: ['不想要了', '卖家缺货', '拍错了/订单信息错误', '其它'],\r\n    reasonIndex: 0,\r\n    images: [],\r\n    imgs:[]\r\n  },\r\n  onLoad: function (options) {\r\n    var isIpx = app.getCache('isIpx');\r\n    if (isIpx) {\r\n      this.setData({\r\n        isIpx: true,\r\n        iphonexnavbar: 'fui-iphonex-navbar'\r\n      })\r\n    } else {\r\n      this.setData({\r\n        isIpx: false,\r\n        iphonexnavbar: ''\r\n      })\r\n    }\r\n    this.setData({\r\n      orderid: options.id\r\n    });\r\n    this.get_list();\r\n  },\r\n  get_list: function () {\r\n    var $this = this;\r\n    core.get('groups.refund', { orderid: this.data.orderid}, function (list) {\r\n     \r\n      if (list.error == 0) {\r\n        if (list.order.status < 2) {\r\n          list.rtypeArr = ['退款(仅退款不退货)'];\r\n        }\r\n        list.show = true;\r\n        $this.setData(list);\r\n        \r\n      } else {\r\n        core.toast(list.message, 'loading')\r\n      }\r\n    });\r\n  },\r\n  submit: function () {\r\n    var data = {\r\n      orderid: this.data.orderid,\r\n      rtype: this.data.rtypeIndex,\r\n      reason: this.data.reasonArr[this.data.reasonIndex],\r\n      content: this.data.content,\r\n      price: this.data.price,\r\n      images: this.data.images\r\n    };\r\n    core.post('groups.refund.submit', data, function (list) {\r\n      if (list.error == 0) {\r\n        wx.navigateBack()\r\n      } else {\r\n        wx.showToast({\r\n          title: list.error,\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    }, true);\r\n  },\r\n  change: function (e) {\r\n    var $this = this, name = core.data(e).name, data = {};\r\n    data[name] = e.detail.value;\r\n    this.setData(data);\r\n  },\r\n  upload: function (e) {\r\n    var $this = this, dataset = core.data(e), type = dataset.type, images = $this.data.images, imgs = $this.data.imgs, index = dataset.index;\r\n    if (type == 'image') {\r\n      core.upload(function (file) {\r\n        images.push(file.filename);\r\n        imgs.push(file.url);\r\n        $this.setData({\r\n          images: images,\r\n          imgs: imgs\r\n        })\r\n      });\r\n    } else if (type == 'image-remove') {\r\n      images.splice(index, 1);\r\n      imgs.splice(index, 1);\r\n      $this.setData({\r\n        images: images,\r\n        imgs: imgs\r\n      })\r\n    } else if (type == 'image-preview') {\r\n      wx.previewImage({\r\n        current: imgs[index],\r\n        urls: imgs\r\n      })\r\n    }\r\n  },\r\n  toggle: function (e) {\r\n    var data = core.pdata(e), id = data.id;\r\n    (id == 0 || typeof id == 'undefined') ? id = 1 : id = 0;\r\n    this.setData({ code: id });\r\n  },\r\n  edit: function (e) {\r\n    this.setData({ 'order.refundstate': 0 });\r\n  },\r\n  refundcancel: function (e) {\r\n    core.post('groups.refund.cancel', { orderid: this.data.orderid}, function (res) {\r\n      if (res.error == 0) {\r\n        wx.navigateBack()\r\n      } else {\r\n        wx.showToast({\r\n          title: res.error,\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    });\r\n  },\r\n  confirmRecive:function(){\r\n    var data={\r\n      orderid: this.data.orderid,\r\n      refundid: this.data.refund.id\r\n    }\r\n    core.post('groups.refund.receive', data, function (res) {\r\n      if (res.error == 0) {\r\n        wx.navigateBack()\r\n      } else {\r\n        wx.showToast({\r\n          title: res.error,\r\n          icon: 'none', \r\n          duration: 2000 \r\n        });\r\n      }\r\n    });\r\n  }\r\n})","\r\nvar app = getApp(), core = app.requirejs('core');\r\nPage({\r\n  data: {},\r\n  onLoad: function (options) {\r\n    // 页面初始化 options为页面跳转所带来的参数\r\n    this.setData({\r\n      options: options\r\n    });\r\n    app.url(options);\r\n    this.get_list();\r\n  },\r\n  get_list: function () {\r\n    var $this = this;\r\n    core.get('groups/order/express', $this.data.options, function (list) {\r\n      if (list.error == 0) {\r\n        list.show = true;\r\n        $this.setData(list);\r\n      } else {\r\n        core.toast(list.message, 'loading')\r\n      }\r\n    });\r\n  }\r\n});","\r\nvar app = getApp(), core = app.requirejs('core');\r\nvar foxui = app.requirejs('foxui');\r\nvar $ = app.requirejs('jquery');\r\nPage({\r\n  data: {\r\n    express: '',\r\n    expresscom: '',\r\n    expresssn: '',\r\n    orderid:''\r\n  },\r\n  onLoad: function (options) {\r\n    var $this = this\r\n    // 页面初始化 options为页面跳转所带来的参数\r\n    core.post('groups.refund', { orderid: options.orderid}, function (list) {\r\n      if (list.error == 0) {\r\n        list.show = true;\r\n        $this.setData(list);\r\n        $this.setData({\r\n          options: options\r\n        });\r\n        \r\n      } else {\r\n        core.toast(list.message, 'loading')\r\n      }\r\n    });\r\n   \r\n  },\r\n  inputPrickChange: function (e) {\r\n    var $this = this;\r\n    var express_list = $this.data.express_list;\r\n    var index = e.detail.value;\r\n    var expresscom = express_list[index].name;\r\n    var express = express_list[index].express;\r\n    $this.setData({ expresscom: expresscom, express: express, index: index });\r\n  },\r\n  inputChange: function (e) {\r\n    var expresssn = e.detail.value;\r\n    this.setData({ expresssn: expresssn });\r\n  },\r\n  back: function () {\r\n    wx.navigateBack();\r\n  },\r\n  submit: function (e) {\r\n  \r\n    var $this = this;\r\n    var expresssn = $this.data.expresssn;\r\n    var refundid = $this.data.options.refundid;\r\n    var orderid = $this.data.options.orderid;\r\n    \r\n\r\n    if (expresssn == \"\") {\r\n      wx.showToast({\r\n        title: '请填写快递单号',\r\n        icon: 'none',\r\n        duration: 2000\r\n      });\r\n      return;\r\n    }\r\n    var express = $this.data.express;\r\n    var expresscom = $this.data.expresscom;\r\n    var data = {\r\n      express: express,\r\n      expresscom: expresscom,\r\n      expresssn: expresssn,\r\n      orderid: orderid,\r\n      \r\n    };\r\n    core.post('groups.refund.express', data, function (list) {\r\n      if (list.error == 0) {\r\n        wx.navigateBack()\r\n      } else {\r\n        wx.showToast({\r\n          title: list.error,\r\n          icon: 'none',\r\n          duration: 2000\r\n        });\r\n      }\r\n    }, true);\r\n   \r\n\r\n  }\r\n});"]}